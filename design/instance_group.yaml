anchors:
- &string_required
  type: string
  required: true
- &time_required
  type: time.Time
  required: true

types:
  InstanceGroupStatus:
    base: string
    enum: "definitions/Instance-Group/properties/status/enum"
  InstanceGroupVMDisk:
    media_type: InstanceGroupVmDisk
    fields:
      DiskSizeGb: int
      DiskType: {}
      SourceImage: *string_required
  InstanceGroupAccelerators:
    fields:
      Count: int
      Type: {}
  InstanceGroupBody:
    fields: &InstanceGroupBodyFields
      BootDisk:
        type: InstanceGroupVMDisk
        required: true
      MachineType: *string_required
      GpuAccelerators: InstanceGroupAccelerators
      Preemptible: bool
      InstanceSizeRequested: int
      InstanceSize: int
      StartupScript: {}
      DeploymentName: {}
      TokenConsumption: int
  InstanceGroup:
    goon:
      # id: int64
      # id: string
      # id: UUID (type: string)
      id: int64
      ancestor: Organization
    # payload: InstanceGroupPayload
    media_type: Instance-Group
    fields:
      Name: *string_required
      ProjectID: *string_required
      Zone: *string_required
      <<: *InstanceGroupBodyFields
      Status:
        type: InstanceGroupStatus
        required: true
      CreatedAt: *time_required
      UpdatedAt: *time_required
