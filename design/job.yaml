anchors:
- &string_required
  type: string
  required: true
- &time_required
  type: time.Time
  required: true
- &int64_required
  type: int64
  required: true

types:
  JobStatus:
    base: string
    enum: "definitions/Job/properties/status/enum"
  JobKeyValuePair:
    fields:
      Name: *string_required
      Value:
        type: string
        datastore_tag: noindex
  JobKeyValuePairs:
    base: "[]JobKeyValuePair"
  JobMessage:
    conv: custom
    fields:
      AttributeEntries: JobKeyValuePairs
      Data:
        type: string
        datastore_tag: noindex
  Job:
    goon:
      # id: int64
      # id: string
      # id: UUID (type: string)
      id: int64
      ancestor: PipelineBase
    payload: JobPayload
    media_type: Job
    fields:
      IDByClient: *string_required
      Status:
        type: JobStatus
        required: true
      Zone: string
      Hostname: string
      Message: JobMessage
      MessageID: string
      Output: string
      PipelineId: int64
      PipelineBaseId: *int64_required
      PublishedAt: time.Time
      StartedAt: time.Time
      FinishedAt: time.Time
      CreatedAt: *time_required
      UpdatedAt: *time_required
