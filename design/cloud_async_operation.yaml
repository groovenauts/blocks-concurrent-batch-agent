anchors:
- &string_required
  type: string
  required: true
- &time_required
  type: time.Time
  required: true
- &int64_required
  type: int64
  required: true

templates:
- &CloudAsyncOperationFields
  Name: *string_required
  Service: *string_required
  OperationType: *string_required
  Status: *string_required
  ProjectId: *string_required
  Zone: *string_required
  Errors: "[]CloudAsyncOperationError"
  Logs: "[]CloudAsyncOperationLog"
  CreatedAt: *time_required
  UpdatedAt: *time_required

types:
  # See https://godoc.org/google.golang.org/api/deploymentmanager/v2#OperationErrorErrors
  #     https://godoc.org/google.golang.org/api/compute/v1#OperationErrorErrors
  CloudAsyncOperationError:
    fields:
      Code: *string_required
      Location: string
      Message: string
  CloudAsyncOperationLog:
    fields:
      Message: *string_required
      CreatedAt: *time_required
  # See https://godoc.org/google.golang.org/api/deploymentmanager/v2#Operation
  #     https://godoc.org/google.golang.org/api/compute/v1#Operation
  InstanceGroupOperation:
    goon:
      id_type: int64
      parent: InstanceGroup
    payload: ""
    media_type: Cloud-Async-Operation
    fields: *CloudAsyncOperationFields
  PipelineBaseOperation:
    goon:
      id_type: int64
      parent: PipelineBase
    payload: ""
    media_type: Cloud-Async-Operation
    fields: *CloudAsyncOperationFields
